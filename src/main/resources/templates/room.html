<th:block xmlns:th="http://www.w3.org/1999/xhtml">
    <div th:insert="blocks/common :: common"></div>

    <div class="container mt-5">
        <a href="/">К списку комнат</a>
        <form th:action="@{'/room/'+${room.id}}" method="post" enctype="multipart/form-data">
            <div class="form-group">
                <input type="text" class="form-control' " hidden="true"
                       name="status" th:value="${room.status}==1?'0':'1'">
            </div>
            <div class="form-group">
                <button type="submit" class="btn btn-primary mt-5">Switch!</button>
            </div>
        </form>
        <div>Bulb is:</div>
        <div id='status' onLoad='refresh()' th:text="${room.status}==1?'Turned on':'Turned off'"></div>
    </div>
    <div th:insert="blocks/lower :: lower"></div>
    <script type='text/javascript'>
        function refreshDiv() {
            document.getElementById('status');
            var refresher = setTimeout("refreshDiv()", 1000);
        }

    </script>
</th:block>